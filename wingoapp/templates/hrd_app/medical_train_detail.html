{% extends 'starter_kit/base.html' %}
{% load static %}
{% load sass_tags %}
{% block css %}
{% load widget_tweaks %}

<!-- Plugins css start-->
<link rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/prism.scss' %}">
<link rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/select2.scss' %}">

<!-- Plugins css Ends-->
{% endblock css %}
{% block content %}
<div class="page-body">
    {% include 'starter_kit/layout/breadcrumb.html' %}
    <!-- Container-fluid starts-->
    <div class="container-fluid">
        <div class="row starter-main">
            <div class="col-sm-12">

                <div class="card">
                    <div class="card-header pb-0">
                        <h5>Medical Train Detail | DATA KARYAWAN / KELUARGA</h5><span>1. Formulir ini harus diisi dengan
                            lengkap, benar dan jelas.<br>2. Klaim dapat diproses, apabila formulir telah diisi dan semua
                            dokumen pengajuan klaim telah dilampirkan dengan lengkap. <br>&nbsp &nbsp a. Nama, alamat,
                            no.telepon tempat berobat (Rumah sakit, Poliklinik, praktek dokter, dsb) <br>&nbsp &nbsp b.
                            Stempel dan tanda tangan dokter <br>&nbsp &nbsp c. Diagnosa, resep obat-obatan, dan hasil
                            laboratorium</span>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Name</label>
                                <input class="form-control" type="text" value="{{medical_header.user.first_name}} {{medical_header.user.last_name}}" readonly style="text-transform: uppercase;">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Nomor Karyawan</label>
                                <input class="form-control" type="text" value="{{medical_header.user.username}}" readonly style="text-transform: uppercase;">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Department</label>
                                <input class="form-control" type="text" value="{{medical_header.user.userprofileinfo.department.department_name}}" readonly style="text-transform: uppercase;">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Division</label>
                                <input class="form-control" type="text" value="{{medical_header.user.userprofileinfo.division.division_name}}" readonly style="text-transform: uppercase;">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Section</label>
                                <input class="form-control" type="text" value="{{medical_header.user.userprofileinfo.section.section_name}}" readonly style="text-transform: uppercase;">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Position</label>
                                <input class="form-control" type="text" value="{{medical_header.user.userprofileinfo.position}}" readonly style="text-transform: uppercase;">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Status Karyawan</label>
                                <input class="form-control" type="text" value="{% if medical_header.user.userprofileinfo.is_contract %}Contract {% elif medical_header.user.userprofileinfo.is_permanent %}Permanent {% endif %}" readonly style="text-transform: uppercase;">
                            </div>
                        </div>
                    </div>
                </div>
                {% if medical_detail_pasien_keluarga.keluarga %}
                <div class="card">
                    <div class="card-header pb-0">
                        <h5>Medical Train Detail  | <i style="color: red;">*Diisi bila pasien keluarga karyawan</i></h5>
                        <span>1. Formulir ini harus diisi dengan lengkap, benar dan jelas.<br>2. Klaim dapat diproses,
                            apabila formulir telah diisi dan semua dokumen pengajuan klaim telah dilampirkan dengan
                            lengkap. <br>&nbsp &nbsp a. Nama, alamat, no.telepon tempat berobat (Rumah sakit,
                            Poliklinik, praktek dokter, dsb) <br>&nbsp &nbsp b. Stempel dan tanda tangan dokter
                            <br>&nbsp &nbsp c. Diagnosa, resep obat-obatan, dan hasil laboratorium</span>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Nama Pasien</label>
                                <input class="form-control" type="text"
                                    value="{{medical_detail_pasien_keluarga.keluarga.nama_lengkap}}" readonly>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Tanggal Lahir</label>
                                <input class="form-control" type="text" value="{{medical_detail_pasien_keluarga.keluarga.tanggal_lahir|date:'F j, Y'}}" readonly>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Jenis Kelamin</label>
                                <input class="form-control" type="text"
                                    value="{% if medical_detail_pasien_keluarga.keluarga.gender == 'M' %}Laki-Laki{% else %}Perempuan{% endif %}" readonly>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Hubungan</label>
                                <input class="form-control" type="text"
                                    value="{{medical_detail_pasien_keluarga.keluarga.hubungan}}" readonly>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
                <div class="card">
                    <div class="card-header pb-0">
                        <h5>Medical Train Detail  | INFORMASI PEMBERI LAYANAN KESEHATAN</i></h5><span>1. Formulir ini harus
                            diisi dengan lengkap, benar dan jelas.<br>2. Klaim dapat diproses, apabila formulir telah
                            diisi dan semua dokumen pengajuan klaim telah dilampirkan dengan lengkap. <br>&nbsp &nbsp a.
                            Nama, alamat, no.telepon tempat berobat (Rumah sakit, Poliklinik, praktek dokter, dsb)
                            <br>&nbsp &nbsp b. Stempel dan tanda tangan dokter <br>&nbsp &nbsp c. Diagnosa, resep
                            obat-obatan, dan hasil laboratorium</span>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Nama Dokter</label>
                                <input class="form-control" type="text"
                                    value="{{medical_dokter.nama_dokter}}" readonly>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Tempat Pelayanan</label>
                                <input class="form-control" type="text" value="{{medical_dokter.tempat_pelayanan}}" readonly>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Nama Tempat</label>
                                <input class="form-control" type="text"
                                    value="{{medical_dokter.nama_tempat}}" readonly>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Alamat</label>
                            <textarea readonly name="" id="" class="form-control" rows="5" cols="5">{{medical_dokter.alamat}}</textarea>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Nomor Telepon</label>
                                <input class="form-control" type="text"
                                    value="{{medical_dokter.no_telp}}" readonly>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header pb-0">
                        <h5>Medical Train Detail  | INFORMASI PELAYANAN KESEHATAN</i></h5><span>1. Formulir ini harus diisi
                            dengan lengkap, benar dan jelas.<br>2. Klaim dapat diproses, apabila formulir telah diisi
                            dan semua dokumen pengajuan klaim telah dilampirkan dengan lengkap. <br>&nbsp &nbsp a. Nama,
                            alamat, no.telepon tempat berobat (Rumah sakit, Poliklinik, praktek dokter, dsb) <br>&nbsp
                            &nbsp b. Stempel dan tanda tangan dokter <br>&nbsp &nbsp c. Diagnosa, resep obat-obatan, dan
                            hasil laboratorium</span>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Jenis Pelayanan</label>
                                <input class="form-control" type="text"
                                    value="{{medical_detail_information.jenis_pelayanan}}" readonly>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Melahirkan</label>
                                <input class="form-control" type="text" value="{{medical_detail_information.melahirkan}}" readonly>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Tanggal Berobat Mulai</label>
                                <input class="form-control" type="text"
                                    value="{{medical_detail_information.tanggal_berobat_mulai|date:'F j, Y'}}" readonly>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Tanggal Berobat Selesai</label>
                                <input class="form-control" type="text"
                                    value="{{medical_detail_information.tanggal_berobat_selesai|date:'F j, Y'}}" readonly>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label class="col-form-label">Diagnosa</label>
                                <input class="form-control" type="text"
                                    value="{{medical_detail_information.diagnosa}}" readonly>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header pb-0">
                        <h5>Medical Train Detail  | Status Klaim</i></h5><span>1. Formulir ini harus diisi
                            dengan lengkap, benar dan jelas.<br>2. Klaim dapat diproses, apabila formulir telah diisi
                            dan semua dokumen pengajuan klaim telah dilampirkan dengan lengkap. <br>&nbsp &nbsp a. Nama,
                            alamat, no.telepon tempat berobat (Rumah sakit, Poliklinik, praktek dokter, dsb) <br>&nbsp
                            &nbsp b. Stempel dan tanda tangan dokter <br>&nbsp &nbsp c. Diagnosa, resep obat-obatan, dan
                            hasil laboratorium</span>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="mb-3 col-md-6">
                                <label class="col-form-label">Status</label>
                                {% if not medical_header.is_complete and not medical_header.is_reject %}
                                <input class="form-control" type="text" value="Waiting for Approval" readonly>
                                {% elif medical_header.is_complete %}
                                <input class="form-control" type="text" value="Klaim lengkap bisa di proses" readonly>
                                {% else %}
                                <input class="form-control" type="text" value="Klaim di tolak" readonly>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header pb-0">
                        <h5>Medical Train Detail  | Total Biaya & Attachment</i></h5><span>1. Formulir ini harus diisi
                            dengan lengkap, benar dan jelas.<br>2. Klaim dapat diproses, apabila formulir telah diisi
                            dan semua dokumen pengajuan klaim telah dilampirkan dengan lengkap. <br>&nbsp &nbsp a. Nama,
                            alamat, no.telepon tempat berobat (Rumah sakit, Poliklinik, praktek dokter, dsb) <br>&nbsp
                            &nbsp b. Stempel dan tanda tangan dokter <br>&nbsp &nbsp c. Diagnosa, resep obat-obatan, dan
                            hasil laboratorium</span>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="mb-3 row">
                                <label class="col-form-label">Total Biaya</label>
                                <input class="form-control" type="text"
                                    value="{{medical_header.rp_total}}" readonly>
                            </div>
                            <div class="mb-3 row">
                                <form class="theme-form mega-form">
                                    <div class="mb-3">  
                                      <label class="col-form-label">List Attachment</label>
                                      <ul>
                                          <div class="row my-gallery gallery" id="aniimated-thumbnials" itemscope="">
                                            {% for attachment in medical_attachment %}
                                        <li><a target="_blank" href="{{ MEDIA_URL }}{{ attachment.attachment }}">{{ attachment.attachment }}</a></li>
                                        {% endfor %}
                                          </div>
                                        </ul>
                                    </div>
                                  </form>
                            </div>
                        </div>
                    </div>
                </div>

                {% comment %} APPROVAL HISTORY START {% endcomment %}
                <div class="card">
                    <div class="card-header pb-0">
                      <h5>Medical Train | Approval History</h5>
                    </div>
                    <hr class="mt-4 mb-2">
                    <div class="card-body">
                      <form class="theme-form mega-form">
                        {% if medical_foreman and medical_header.is_foreman %}
                          <label class="col-form-label"><h5>Approval Atasan:</h5></label>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Check</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_foreman.created_at }}" readonly>
                            </div>
                          </div>
                         <div class="mb-3">  
                           <div class="input-group"><span class="input-group-text">Check oleh</span>
                             <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_foreman.foreman.user.first_name }} {{ medical_foreman.foreman.user.last_name }}" readonly>
                           </div>
                         </div>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Approve</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_foreman.updated_at }}" readonly>
                            </div>
                          </div>
                        <div class="mb-3">  
                          <div class="input-group"><span class="input-group-text">Approve Oleh</span>
                            <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_foreman.foreman.user.first_name }} {{ medical_foreman.foreman.user.last_name }}" readonly>
                          </div>
                        </div>
                        {% endif %}
                      
                        {% if medical_supervisor and medical_header.is_supervisor %}
                          <label class="col-form-label"><h5>Approval Atasan:</h5></label>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Check</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_supervisor.created_at }}" readonly>
                            </div>
                          </div>
                         <div class="mb-3">  
                           <div class="input-group"><span class="input-group-text">Check oleh</span>
                             <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_supervisor.supervisor.user.first_name }} {{ medical_supervisor.supervisor.user.last_name }}" readonly>
                           </div>
                         </div>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Approve</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_supervisor.updated_at }}" readonly>
                            </div>
                          </div>
                        <div class="mb-3">  
                          <div class="input-group"><span class="input-group-text">Approve Oleh</span>
                            <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_supervisor.supervisor.user.first_name }} {{ medical_supervisor.supervisor.user.last_name }}" readonly>
                          </div>
                        </div>
                        {% endif %}
                      
                        {% if medical_manager and medical_header.is_manager %}
                          <label class="col-form-label"><h5>Approval Atasan:</h5></label>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Check</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_manager.created_at }}" readonly>
                            </div>
                          </div>
                         <div class="mb-3">  
                           <div class="input-group"><span class="input-group-text">Check oleh</span>
                             <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_manager.manager.user.first_name }} {{ medical_manager.manager.user.last_name }}" readonly>
                           </div>
                         </div>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Approve</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_manager.updated_at }}" readonly>
                            </div>
                          </div>
                        <div class="mb-3">  
                          <div class="input-group"><span class="input-group-text">Approve Oleh</span>
                            <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_manager.manager.user.first_name }} {{ medical_manager.manager.user.last_name }}" readonly>
                          </div>
                        </div>
                        {% endif %}
                      
                        {% if medical_hr and medical_hr.is_approve %}
                          <label class="col-form-label"><h5>Approval HR:</h5></label>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Check</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_hr.created_at }}" readonly>
                            </div>
                          </div>
                         <div class="mb-3">  
                           <div class="input-group"><span class="input-group-text">Check oleh</span>
                             <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_hr.hr.user.first_name }} {{ medical_hr.hr.user.last_name }}" readonly>
                           </div>
                         </div>
                          <div class="mb-3">  
                            <div class="input-group"><span class="input-group-text">Tanggal Approve</span>
                              <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_hr.updated_at }}" readonly>
                            </div>
                          </div>
                         <div class="mb-3">  
                          <div class="input-group"><span class="input-group-text">Approve Oleh</span>
                            <input name="rp_detail_12" class="form-control" type="text" value="{{ medical_hr.hr.user.first_name }} {{ medical_hr.hr.user.last_name }}" readonly>
                          </div>
                        </div>                         
                        {% endif %}
                      </form>
                    </div>
                  </div>
                 {% comment %} APPROVAL HISTORY END {% endcomment %}
                 {% comment %} Approval START {% endcomment %}
                 <div class="card">
                  <div class="card-header pb-0">
                    <h5>Medical Train | Approval Action</h5>
                  </div>
                  <hr class="mt-4 mb-2">
                  <div class="card-body">
                    {% if medical_approval_manager %}
                    <label class="col-form-label"><h5>Approval Atasan:</h5></label>
                    <a href="{% url 'hrd_app:medical_submit_atasan' medical_approval_manager.medical.id True False%}"
                    class="btn btn-success btn-sm"><span class="icon-check">Approve</span></a>
                  <a data-bs-toggle="modal"
                    data-bs-target="#ModalMedicalReject{{ medical_approval_manager.medical.id }}" data-whatever="@mdo"
                    class="btn btn-secondary btn-sm"><span class="icon-trash"></span>Reject</a>
                    {% endif %}
                    {% if medical_approval_supervisor %}
                    <label class="col-form-label"><h5>Approval Atasan:</h5></label>
                    <a href="{% url 'hrd_app:medical_submit_atasan' medical_approval_supervisor.medical.id True False%}"
                    class="btn btn-success btn-sm"><span class="icon-check">Approve</span></a>
                  <a data-bs-toggle="modal"
                    data-bs-target="#ModalMedicalReject{{ medical_approval_supervisor.medical.id }}" data-whatever="@mdo"
                    class="btn btn-secondary btn-sm"><span class="icon-trash"></span>Reject</a>
                    {% endif %}
                    {% if medical_approval_foreman %}
                    <label class="col-form-label"><h5>Approval Atasan:</h5></label>
                    <a href="{% url 'hrd_app:medical_submit_atasan' medical_approval_foreman.medical.id True False%}"
                    class="btn btn-success btn-sm"><span class="icon-check">Approve</span></a>
                    <a data-bs-toggle="modal"
                    data-bs-target="#ModalMedicalReject{{ medical_approval_foreman.medical.id }}" data-whatever="@mdo"
                    class="btn btn-secondary btn-sm"><span class="icon-trash"></span>Reject</a>
                    {% endif %}
                    {% if medical_approval_hr %}
                    <label class="col-form-label"><h5>Approval HR:</h5></label>
                    <a data-bs-toggle="modal" data-bs-target="#ModalMedicalHRApprove{{ medical_hr.medical.id }}"
                    data-whatever="@mdo" class="btn btn-success btn-sm"></span>Approve</a>
                    <a data-bs-toggle="modal" data-bs-target="#ModalMedicalHRReject{{ medical_hr.medical.id }}"
                    data-whatever="@mdo" class="btn btn-secondary btn-sm"><span class="icon-trash"></span>Reject</a>
                    {% endif %}
                  </div>
                 </div>
                 {% comment %} APPROVAL END {% endcomment %}
                    {% comment %} MODAL REJECT START {% endcomment %}
                    <div class="modal fade" id="ModalMedicalReject{{ medical_header.id }}" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel2">{{medical_header.medical_no}}</h5>
                          <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <form action="{% url 'hrd_app:medical_submit_atasan' medical_header.id False True %}" method="POST">
                          {% csrf_token %}
                          <div class="modal-body">
                            <div class="mb-3">
                              <label class="col-form-label" for="recipient-name">Assignee:</label>
                              <input class="form-control" type="text"
                                value="{{medical_header.user.first_name}} {{medical_header.user.last_name}}" readonly>
                            </div>
                            {% comment %} REASON APABILA FOREMAN {% endcomment %}
                            {% if form_medical_approval_reason_foreman %}
                                {% for hidden in form_medical_approval_reason_foreman.hidden_fields %}
                                {{ hidden }}
                                {% endfor %}
                                <!-- merender semua field form dari objek TaskForm -->
                                {% if form_medical_approval_reason_foreman.non_field_errors %}
                                <div class="alert alert-danger" role="alert">
                                  {% for error in form_medical_approval_reason_foreman.non_field_errors %}
                                  {{ error }}
                                  {% endfor %}
                                </div>
                                {% endif %}
                              
                                {% for field in form_medical_approval_reason_foreman.visible_fields %}
                                <div class="form-group">
                                  {{ field.label_tag }}
                                  {% if form_medical_approval_reason_foreman.is_bound %}
                                  {% if field.errors %}
                                  {% render_field field class="form-control is-invalid" %}
                                  {% for error in field.errors %}
                                  <div class="invalid-feedback">
                                    {{ error }}
                                  </div>
                                  {% endfor %}
                                  {% else %}
                                  {% render_field field class="form-control is-valid" %}
                                  {% endif %}
                                  {% else %}
                                  {% render_field field class="form-control" %}
                                  {% endif %}
                                
                                  {% if field.help_text %}
                                  <small class="form-text text-muted">{{ field.help_text }}</small>
                                  {% endif %}
                                </div>
                                {% endfor %}
                            {% endif %}
                            
                            {% comment %} REASON APABILA SUPERVISOR {% endcomment %}
                            {% if form_medical_approval_reason_supervisor %}
                            {% for hidden in form_medical_approval_reason_supervisor.hidden_fields %}
                            {{ hidden }}
                            {% endfor %}
                            <!-- merender semua field form dari objek TaskForm -->
                            {% if form_medical_approval_reason_supervisor.non_field_errors %}
                            <div class="alert alert-danger" role="alert">
                              {% for error in form_medical_approval_reason_supervisor.non_field_errors %}
                              {{ error }}
                              {% endfor %}
                            </div>
                            {% endif %}
                          
                            {% for field in form_medical_approval_reason_supervisor.visible_fields %}
                            <div class="form-group">
                              {{ field.label_tag }}
                              {% if form_medical_approval_reason_supervisor.is_bound %}
                              {% if field.errors %}
                              {% render_field field class="form-control is-invalid" %}
                              {% for error in field.errors %}
                              <div class="invalid-feedback">
                                {{ error }}
                              </div>
                              {% endfor %}
                              {% else %}
                              {% render_field field class="form-control is-valid" %}
                              {% endif %}
                              {% else %}
                              {% render_field field class="form-control" %}
                              {% endif %}
                            
                              {% if field.help_text %}
                              <small class="form-text text-muted">{{ field.help_text }}</small>
                              {% endif %}
                            </div>
                            {% endfor %}
                        {% endif %}
                            {% comment %} REASON APABILA MANAGER {% endcomment %}
                            {% if form_medical_approval_reason_manager %}
                            {% for hidden in form_medical_approval_reason_manager.hidden_fields %}
                            {{ hidden }}
                            {% endfor %}
                            <!-- merender semua field form dari objek TaskForm -->
                            {% if form_medical_approval_reason_manager.non_field_errors %}
                            <div class="alert alert-danger" role="alert">
                              {% for error in form_medical_approval_reason_manager.non_field_errors %}
                              {{ error }}
                              {% endfor %}
                            </div>
                            {% endif %}
                          
                            {% for field in form_medical_approval_reason_manager.visible_fields %}
                            <div class="form-group">
                              {{ field.label_tag }}
                              {% if form_medical_approval_reason_manager.is_bound %}
                              {% if field.errors %}
                              {% render_field field class="form-control is-invalid" %}
                              {% for error in field.errors %}
                              <div class="invalid-feedback">
                                {{ error }}
                              </div>
                              {% endfor %}
                              {% else %}
                              {% render_field field class="form-control is-valid" %}
                              {% endif %}
                              {% else %}
                              {% render_field field class="form-control" %}
                              {% endif %}
                            
                              {% if field.help_text %}
                              <small class="form-text text-muted">{{ field.help_text }}</small>
                              {% endif %}
                            </div>
                            {% endfor %}
                        {% endif %}
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-primary" type="button" data-bs-dismiss="modal">Close</button>
                            <button class="btn btn-secondary" type="submit">Reject</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                  {% comment %} MODAL REJECT END {% endcomment %}
          {% comment %} MODAL HR REJECT START {% endcomment %}
          <div class="modal fade" id="ModalMedicalHRReject{{ medical_header.id }}" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel2">{{medical_header.medical_no}}</h5>
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <form action="{% url 'hrd_app:medical_submit_hr' medical_header.id False True %}" method="POST">
                {% csrf_token %}
                <div class="modal-body">
                  <div class="mb-3">
                    <label class="col-form-label" for="recipient-name">Assignee:</label>
                    <input class="form-control" type="text"
                      value="{{medical_header.user.first_name}} {{medical_header.user.last_name}}" readonly>
                  </div>
                  {% if form_medical_reject_klaim_status %}
                      {% for hidden in form_medical_reject_klaim_status.hidden_fields %}
                      {{ hidden }}
                      {% endfor %}
                      <!-- merender semua field form dari objek TaskForm -->
                      {% if form_medical_reject_klaim_status.non_field_errors %}
                      <div class="alert alert-danger" role="alert">
                        {% for error in form_medical_reject_klaim_status.non_field_errors %}
                        {{ error }}
                        {% endfor %}
                      </div>
                      {% endif %}
                    
                      {% for field in form_medical_reject_klaim_status.visible_fields %}
                      <div class="form-group">
                        {{ field.label_tag }}
                        {% if form_medical_reject_klaim_status.is_bound %}
                        {% if field.errors %}
                        {% render_field field class="form-control is-invalid" %}
                        {% for error in field.errors %}
                        <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                        {% else %}
                        {% render_field field class="form-control is-valid" %}
                        {% endif %}
                        {% else %}
                        {% render_field field class="form-control" %}
                        {% endif %}
                      
                        {% if field.help_text %}
                        <small class="form-text text-muted">{{ field.help_text }}</small>
                        {% endif %}
                      </div>
                      {% endfor %}
                  {% endif %}
                  {% if form_medical_approval_reason_hr %}
                    {% for hidden in form_medical_approval_reason_hr.hidden_fields %}
                    {{ hidden }}
                    {% endfor %}
                    <!-- merender semua field form dari objek TaskForm -->
                    {% if form_medical_approval_reason_hr.non_field_errors %}
                    <div class="alert alert-danger" role="alert">
                      {% for error in form_medical_approval_reason_hr.non_field_errors %}
                      {{ error }}
                      {% endfor %}
                    </div>
                    {% endif %}

                    {% for field in form_medical_approval_reason_hr.visible_fields %}
                    <div class="form-group">
                      {{ field.label_tag }}
                      {% if form_medical_approval_reason_hr.is_bound %}
                      {% if field.errors %}
                      {% render_field field class="form-control is-invalid" %}
                      {% for error in field.errors %}
                      <div class="invalid-feedback">
                        {{ error }}
                      </div>
                      {% endfor %}
                      {% else %}
                      {% render_field field class="form-control is-valid" %}
                      {% endif %}
                      {% else %}
                      {% render_field field class="form-control" %}
                      {% endif %}

                      {% if field.help_text %}
                      <small class="form-text text-muted">{{ field.help_text }}</small>
                      {% endif %}
                    </div>
                    {% endfor %}
                  {% endif %}
                </div>
                <div class="modal-footer">
                  <button class="btn btn-primary" type="button" data-bs-dismiss="modal">Close</button>
                  <button class="btn btn-secondary" type="submit">Reject</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        {% comment %} MODAL HR REJECT END {% endcomment %}

        {% comment %} MODAL HR APPROVE START {% endcomment %}
        <div class="modal fade" id="ModalMedicalHRApprove{{ medical_header.id }}" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel2">{{medical_header.medical_no}}</h5>
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <form action="{% url 'hrd_app:medical_submit_hr' medical_header.id True False %}" method="POST">
                {% csrf_token %}
                <div class="modal-body">
                  <div class="mb-3">
                    <label class="col-form-label" for="recipient-name">Assignee:</label>
                    <input class="form-control" type="text"
                      value="{{medical_header.user.first_name}} {{medical_header.user.last_name}}" readonly>
                  </div>
                  {% if form_medical_klaim_status %}
                  {% for hidden in form_medical_klaim_status.hidden_fields %}
                  {{ hidden }}
                  {% endfor %}
                  <!-- merender semua field form dari objek TaskForm -->
                    {% if form_medical_klaim_status.non_field_errors %}
                    <div class="alert alert-danger" role="alert">
                      {% for error in form_medical_klaim_status.non_field_errors %}
                      {{ error }}
                      {% endfor %}
                    </div>
                    {% endif %}
                  {% endif %}
                </div>
                <div class="modal-footer">
                  <button class="btn btn-primary" type="button" data-bs-dismiss="modal">Close</button>
                  <button class="btn btn-success" type="submit">Approve</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        {% comment %} MODAL HR APPROVE END {% endcomment %}

            </div>
        </div>
    </div>
    <!-- Container-fluid Ends-->
</div>
{% endblock content %}
{% block scriptcontent %}
<!-- Plugins JS start-->
<script src="{% static 'assets/js/prism/prism.min.js' %}"></script>
<script src="{% static 'assets/js/clipboard/clipboard.min.js' %}"></script>
<script src="{% static 'assets/js/custom-card/custom-card.js' %}"></script>
<script src="{% static 'assets/js/select2/select2.full.min.js' %}"></script>
<script src="{% static 'assets/js/select2/select2-custom.js' %}"></script>
{% comment %} <script src="https://cdnjs.cloudflare.com/ajax/libs/autonumeric/1.8.2/autoNumeric.js"></script> {% endcomment %}
<script>
    $(document).ready(function () {
        $('#id_incoming_type').select2();
        $('#id_category').select2();
        $('#id_material').select2();
        $('#id_vendor').select2();
    });
</script>
<script>
    easyNumberSeparator({
        selector: '#number-mask1',
        separator: '.',
        resultInput: '#id_rp_total',
    })
</script>
<!-- Plugins JS Ends-->
{% endblock scriptcontent %}